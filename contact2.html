<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Us</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="css/navbar.css">
<link rel="stylesheet" href="css/event.css">
<link rel="stylesheet" href="css/pass.css">
<link rel="stylesheet" href="css/form.css">

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){
    emailjs.init("PDjWqj0bdZD9-DMmr8jhG"); 
})();
</script>

<style>
.popup{
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.5);
    justify-content:center;
    align-items:center;
    z-index:9999;
}

.popup-box{
    background:#fff;
    padding:25px 35px;
    border-radius:10px;
    box-shadow:0 5px 25px rgba(0,0,0,0.2);
    font-size:18px;
    color:green;
    font-weight:bold;
    position:relative;
    animation:scaleIn .3s ease;
    text-align:center;
}

.close-btn{
    position:absolute;
    right:10px;
    top:10px;
    font-size:22px;
    cursor:pointer;
    color:#333;
}

@keyframes scaleIn{
    from{transform:scale(0.6); opacity:0;}
    to{transform:scale(1); opacity:1;}
}
</style>

</head>
<body>

<div class="contact-wrapper">

    <div class="contact-title">Contact Us</div>
    <div class="sub-title">We will get back to you shortly</div>

    <form id="contactForm">
        <div class="form-group">
            <label>Name *</label>
            <input type="text" name="name" placeholder="Enter your name" required>
        </div>
        <div class="form-group">
            <label>Contact Number*</label>
            <input type="text" name="contact" placeholder="Enter your contact number" required>
        </div>

        <div class="form-group">
            <label>Email*</label>
            <input type="email" name="email" placeholder="Enter your email" required>
        </div>

        <div class="form-group">
            <label>Message*</label>
            <textarea rows="4" name="message" placeholder="Type your message..." required></textarea>
        </div>

        <button type="submit">Send Message</button>
    </form>

   <p id="result"></p>

<div id="popup" class="popup">
    <div class="popup-box">
        <span class="close-btn" onclick="closePopup()">×</span>
        <h3>✔ Message Sent Successfully!</h3>
    </div>
</div>

</div>
<script>

function closePopup(){
    document.getElementById("popup").style.display = "none";
}

document.getElementById("contactForm").addEventListener("submit", function(e){
    e.preventDefault();

    emailjs.send("service_20o7ok4", "template_xa5djne", {  
        name: this.name.value,
        contact: this.contact.value,
        email: this.email.value,
        message: this.message.value,
        website_name: "City Event Planner"
    })
	
	emailjs.send("service_20o7ok4", "template_gu1ccmi", {  
        name: this.name.value,
        contact: this.contact.value,
        email: this.email.value,
        message: this.message.value,
        website_name: "City Event Planner"
    })
    .then(function(response) {

        // POPUP SHOW
        document.getElementById("popup").style.display = "flex";

        // Auto close after 3 seconds
        setTimeout(() => {
            document.getElementById("popup").style.display = "none";
        }, 5000);

    }, function(error) {

        let res = document.getElementById("result");
        res.innerHTML = "<span style='color:red;font-weight:bold;'>Error sending message.</span>";
        res.style.display = "block";

        setTimeout(() => {
            res.style.display = "none";
        }, 5000);
    });
});
</script>

</body>
</html>
